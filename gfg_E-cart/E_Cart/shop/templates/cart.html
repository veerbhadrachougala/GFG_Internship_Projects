{% extends 'base.html' %}
{% block content %}
<!-- Breadcrumbs -->
<div class="breadcrumbs">
	<div class="container">
		<div class="row">
			<div class="col-12">
				<div class="bread-inner">
					<ul class="bread-list">
						<li><a href="/">Home<i class="ti-arrow-right"></i></a></li>
						<li class="active"><p>Cart</p></li>
					</ul>
				</div>
			</div>
		</div>
	</div>
</div>
	<!-- End Breadcrumbs -->
	<div class="container my-5">
		<div class="row">
			<h1 class="text-center mb-2">Shopping Cart</h1>
			<div class="col-sm-8">
				<div class="card">
					<div class="card-body">
						<h3>Cart</h3>
						{% for Cart in carts %}
						<hr />
						<div class="row">
							<div class="col-sm-3 text-center align-self-center">
								<img
									src="{{Cart.product.image.url}}"
									alt=""
									srcset=""
									class="img-fluid img-thumbnail shadow-sm"
									height="150"
									width="150"
								/>
							</div>
							<div class="col-sm-9">
								<div>
									<h5>{{Cart.product.name}}</h5>
									<p class="mb-2 text-muted small">
										{{Cart.product.description}}
									</p>
									<div class="my-3">
										<label for="quantity">Quantity:</label>
										<a href="{% url "minusCart" Cart.product.id %}" class="minusCart btn py-1 px-2">
											<i class="fas fa-minus-square fa-lg" ></i>
										</a>
										<span class="fw-bold text-danger" id="quantity">{{Cart.quantity}}</span>
										<a href="{% url "plusCart" Cart.product.id %}" class="plusCart btn py-1 px-2">
											<i class="fas fa-plus-square fa-lg"></i>
										</a>
									</div>
									<div class="d-flex justify-content-between">
										<a href="{% url "removecart" Cart.product.id %}" class="btn btn-sm  mr-3 RemoveCart" style="color: #fff;" pid="{{Cart.product.id}}">Remove item</a>
										<p class="mb-0">
											<span><strong>Rs.{{Cart.product.price}}</strong></span>
										</p>
									</div>
								</div>
							</div>
						</div>
						{% endfor %}
					</div>
				</div>
			</div>
			<div class="col-sm-4">
				<div class="card">
					<div class="card-body">
						<h4>Total Amount</h4> <hr />
						<ul class="list-group">
							<li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
								Amount<span>Rs.<span id="amount">{{amount}}</span></span>
							</li>
							<li class="list-group-item d-flex justify-content-between align-items-center text-danger border-0 px-0 pb-0">
								Delivery Charge<span>Rs. {{delivery_charge}}</span>
							</li>
							<li class="list-group-item d-flex justify-content-between align-items-center text-danger border-0 px-0 pb-0">
								Total Discounted amount<span>Rs. {{Discount}}</span>
							</li>
							<hr />
							<li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
								<div>
									<h6>Total</h6>
								</div>
								<span><h6>Rs.<strong id="totalamount">{{totalamount}}</strong></h6></span>
							</li>
						</ul>
						<div class="d-grid">
							<a href="{% url 'checkout' %}" class="btn" style="color: #fff;">Place Order</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	{% endblock content %}
